<html>
  <head>
    <style>
        table{
         border-style: hidden;
        }    
        th,td {
         border: 2px solid red;
         padding: 15px;
         border-spacing: 15px;
         background-color: white;
        }
    
        td:hover{
        background: grey !important;
        }
    </style>
    
    <script>
        var speler = 1;
        var kleur = 'red';
        
        function verander_kleur(deid){
           
            var hokjes = document.getElementsByClassName(deid.className);
            var count = 0;
            var uitkomst = document.getElementById("uitkomst");
        
            for(var t = hokjes.length - 1; t >= 0 ; t--){
                if (hokjes[t].style.backgroundColor == 'white') {
                    hokjes[t].style.backgroundColor = kleur;
                    count += 1
                    break
                }
            }
            if (count == 0) {
                alert("Kolom is al vol, probeer een andere kolom.");
                return; // Zodat speler nog een keer kan proberen
            }
            
            if (speler == 1) {
                speler = 2;
                kleur = 'yellow';
                uitkomst.innerHTML = "Speler 2 is aan de beurt."
            }
            else {
                speler = 1;
                kleur = 'red';
                uitkomst.innerHTML = "Speler 1 is aan de beurt."
            }

            check_winst()
        }

        function check_winst() {
            //console.log("check winst")
            
            // Verticaal checken
            for (var kolom = 1; kolom < 8; kolom++) {
                var count = 0;
                var hokjes = document.getElementsByClassName(kolom.toString());
                var kleur = hokjes[hokjes.length - 1].style.backgroundColor;

                for(var rij = hokjes.length - 1; rij >= 0 ; rij--){
                    if (hokjes[rij].style.backgroundColor == kleur) {
                        kleur = hokjes[rij].style.backgroundColor;
                        count += 1;
                    }
                    else {
                        kleur = hokjes[rij].style.backgroundColor;
                        count = 1;
                    }
                    if (kleur == 'red' || kleur == 'yellow') {
                        if (count == 4) {
                        alert("Gewonnen");
                        return;
                    }
                    }
                
                }   
            }

            // Horizontaal checken
            var count_hor = 0;
            var kleur_hor = document.getElementById("1").style.backgroundColor;
            // console.log("begin");
            // console.log(kleur_hor);

            var count_volgende_rij = 0;
            for (var table_element = 1; table_element < 43; table_element++) {
                // console.log(document.getElementById(table_element.toString()).style.backgroundColor);

                if (kleur_hor == 'red' || kleur_hor == 'yellow') {
                if (document.getElementById(table_element.toString()).style.backgroundColor == kleur_hor) {
                    kleur_hor = document.getElementById(table_element.toString()).style.backgroundColor;
                    count_hor += 1;
                    // console.log("if " +count_hor)
                }
                else {
                    kleur_hor = document.getElementById(table_element.toString()).style.backgroundColor;
                    count_hor = 1;
                    // console.log("else " +count_hor)
                }
            }
                if (kleur_hor == 'red' || kleur_hor == 'yellow') {
                    if (count_hor == 4) {
                    alert("Gewonnen");
                    return;
                }
                }
                count_volgende_rij += 1;

                if (count_volgende_rij >6 && table_element < 40) {
                    count_hor = 0;
                    count_volgende_rij = 0;
                    kleur_hor = document.getElementById((table_element + 1).toString()).style.backgroundColor;
                }
    
            }
   
        }

    </script>
  </head>
  <body>
    <h2>Opdracht vier op een rij</h2>
    
    <table id="mijntabel">
        
    <tr>
        <td id="1" class="1" onclick="verander_kleur(this)" style = "background-color:white;" > </td>
        <td id="2" class="2" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="3" class="3" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="4" class="4" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="5" class="5" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="6" class="6" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="7" class="7" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
    </tr>
    <tr>
        <td id="8" class="1" onclick="verander_kleur(this)" style = "background-color:white;" > </td>
        <td id="9" class="2" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="10" class="3" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="11" class="4" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="12" class="5" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="13" class="6" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="14" class="7" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
    </tr>
    <tr>
        <td id="15" class="1" onclick="verander_kleur(this)" style = "background-color:white;" > </td>
        <td id="16" class="2" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="17" class="3" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="18" class="4" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="19" class="5" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="20" class="6" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="21" class="7" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
    </tr>
    <tr>
        <td id="22" class="1" onclick="verander_kleur(this)" style = "background-color:white;" > </td>
        <td id="23" class="2" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="24" class="3" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="25" class="4" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="26" class="5" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="27" class="6" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="28" class="7" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
    </tr>
    <tr>
        <td id="29" class="1" onclick="verander_kleur(this)" style = "background-color:white;" > </td>
        <td id="30" class="2" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="31" class="3" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="32" class="4" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="33" class="5" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="34" class="6" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="35" class="7" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
    </tr>
    <tr>
        <td id="36" class="1" onclick="verander_kleur(this)" style = "background-color:white;" > </td>
        <td id="37" class="2" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="38" class="3" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="39" class="4" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="40" class="5" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="41" class="6" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
        <td id="42" class="7" onclick="verander_kleur(this)" style = "background-color:white;"> </td>
    </tr>
      </table><br>
      <br>
    
      <div id=uitkomst> Speler 1 is aan de beurt. </div>

  </body>
</html>